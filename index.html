<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChoreFlow - Family Task Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="title">Axis Chores</h1>
            </div>
            <nav class="header-nav">
                <button class="tab-btn active" data-tab="dashboard">
                    Dashboard
                </button>
                <button class="tab-btn" data-tab="calendar">
                    Calendar
                </button>
                <button class="tab-btn" data-tab="add-chore">
                    Add Chore
                </button>
                <button class="tab-btn" data-tab="rewards">
                    Rewards
                </button>
                <button class="tab-btn" data-tab="leaderboard">
                    Leaderboard
                </button>
                <button class="tab-btn" data-tab="family">
                    Family
                </button>
            </nav>
            <div class="header-right">
                <p class="date" id="currentDate"></p>
            </div>
        </header>

        <!-- FAMILY TAB -->
        <div id="family" class="tab-content">
            <!-- Family Members Section -->
            <section class="members-section">
                <div class="members-header">
                    <h3 class="members-title">Family Members</h3>
                    <div class="members-input-group">
                        <input 
                            type="text" 
                            id="memberNameInput" 
                            placeholder="Add member name..."
                            class="member-name-input"
                        >
                        <button class="btn-add-member" onclick="addFamilyMember()">Add</button>
                    </div>
                </div>
                <div class="members-list" id="membersList"></div>
            </section>
        </div>

        <!-- DASHBOARD TAB -->
        <div id="dashboard" class="tab-content active">
            <!-- Summary Section -->
            <section class="summary">
                <div class="summary-card">
                    <span class="summary-label">Total Tasks</span>
                    <span class="summary-value" id="totalTasks">0</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Pending</span>
                    <span class="summary-value pending" id="pendingTasks">0</span>
                </div>
                <div class="summary-card">
                    <span class="summary-label">Completed</span>
                    <span class="summary-value completed" id="completedTasks">0</span>
                </div>
            </section>

            <!-- Progress Bar -->
            <section class="progress-section">
                <div class="progress-header">
                    <span class="level-text">Team Progress</span>
                    <span class="level-percentage" id="levelPercentage">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </section>

            <!-- Weekly Points Summary -->
            <section class="weekly-points-section">
                <h3 class="weekly-points-title">This Week's Points</h3>
                <div class="weekly-points-grid" id="weeklyPointsGrid"></div>
            </section>

            <!-- Chores List -->
            <section class="chores-section">
                <div class="chores-header">
                    <h2 class="section-title">Shared Tasks</h2>
                    <div class="quick-action-buttons">
                        <button class="quick-action-btn" onclick="nudgeAssignee()">Nudge</button>
                        <button class="quick-action-btn delete-btn" onclick="if(confirm('Clear all completed tasks?')) clearAllCompleted();">Clear</button>
                    </div>
                </div>
                <div class="chores-list" id="choresList"></div>
                <div class="empty-state" id="emptyState">
                    <p>No tasks yet. Add one to get started!</p>
                </div>
            </section>
        </div>

        <!-- CALENDAR TAB -->
        <div id="calendar" class="tab-content">
            <section class="calendar-section">
                <div class="calendar-header">
                    <button class="calendar-nav-btn" id="prevMonth">‚Üê Previous</button>
                    <h2 class="calendar-month-year" id="calendarMonthYear"></h2>
                    <button class="calendar-nav-btn" id="nextMonth">Next ‚Üí</button>
                </div>
                
                <div class="calendar-container">
                    <div class="calendar-weekdays">
                        <div class="weekday">Sun</div>
                        <div class="weekday">Mon</div>
                        <div class="weekday">Tue</div>
                        <div class="weekday">Wed</div>
                        <div class="weekday">Thu</div>
                        <div class="weekday">Fri</div>
                        <div class="weekday">Sat</div>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                </div>

                <div class="calendar-tasks-section" id="calendarTasksSection" style="display: none;">
                    <h3 class="calendar-selected-date" id="calendarSelectedDate"></h3>
                    <div class="calendar-tasks-list" id="calendarTasksList"></div>
                </div>
            </section>
        </div>

        <!-- ADD CHORE TAB -->
        <div id="add-chore" class="tab-content">
            <section class="form-section">
                <h2 class="section-title">Add New Task</h2>
                
                <!-- Quick Presets for Common Repetitive Tasks -->
                <div class="quick-presets">
                    <p class="presets-label">Quick Presets:</p>
                    <div class="preset-buttons">
                        <button type="button" class="preset-btn" onclick="applyPreset('bed', 'Make the bed')">Make the bed</button>
                        <button type="button" class="preset-btn" onclick="applyPreset('dishes', 'Do the dishes')">Do dishes</button>
                        <button type="button" class="preset-btn" onclick="applyPreset('laundry', 'Do laundry')">Laundry</button>
                        <button type="button" class="preset-btn" onclick="applyPreset('trash', 'Take out trash')">Trash</button>
                        <button type="button" class="preset-btn" onclick="applyPreset('sweep', 'Sweep/Vacuum')">Sweep</button>
                        <button type="button" class="preset-btn" onclick="applyPreset('clean', 'Clean room')">Clean room</button>
                    </div>
                </div>
                
                <form class="chore-form" id="choreForm">
                    <!-- Chore Name -->
                    <div class="form-group">
                        <label for="choreInput">Task Name *</label>
                        <input 
                            type="text" 
                            id="choreInput" 
                            placeholder="e.g., Make the bed..." 
                            class="chore-input"
                            required
                        >
                    </div>

                    <!-- Member Assignment -->
                    <div class="form-group">
                        <label for="memberSelect">Assign To *</label>
                        <select id="memberSelect" class="member-select" required>
                            <option value="">Select a family member...</option>
                        </select>
                    </div>

                    <!-- Repeat Pattern (Consolidated) -->
                    <div class="form-group">
                        <label for="repeatSelect">Frequency *</label>
                        <select id="repeatSelect" class="repeat-select" required onchange="updateDateLabel()">
                            <option value="none">One-time only</option>
                            <option value="daily">Daily (repeats every day)</option>
                            <option value="weekly" selected>Weekly (repeats every week)</option>
                            <option value="monthly">Monthly (repeats every month)</option>
                        </select>
                    </div>

                    <!-- Due Date -->
                    <div class="form-group">
                        <label for="dueDateInput"><span id="dateLabel">Start Date</span> *</label>
                        <input 
                            type="date" 
                            id="dueDateInput" 
                            class="date-input"
                            required
                        >
                        <small style="color: var(--text-tertiary); margin-top: 4px; display: block;">First occurrence date</small>
                    </div>

                    <!-- Priority -->
                    <div class="form-group">
                        <label for="priorityInput">Priority (1-5) *</label>
                        <div class="priority-input-group">
                            <input 
                                type="number" 
                                id="priorityInput" 
                                min="1" 
                                max="5" 
                                value="3"
                                class="priority-number-input"
                                required
                            >
                            <span class="priority-label" id="priorityLabel">Medium</span>
                        </div>
                        <div class="priority-scale">
                            <span>1 (Not Urgent)</span>
                            <span>5 (Immediate)</span>
                        </div>
                    </div>

                    <!-- Status Note -->
                    <div class="form-group">
                        <label for="statusNote">Notes (Optional)</label>
                        <textarea 
                            id="statusNote" 
                            placeholder="e.g., 'Change sheets on Fridays' or add any special instructions"
                            class="status-note-input"
                            rows="3"
                        ></textarea>
                    </div>

                    <button type="submit" class="add-btn">Add Task</button>
                </form>
            </section>
        </div>

        <!-- REWARDS TAB -->
        <div id="rewards" class="tab-content">
            <section class="rewards-section">
                <div class="rewards-header">
                    <h2 class="section-title">Reward Shop</h2>
                    <div class="member-points-display" id="memberPointsDisplay"></div>
                </div>

                <!-- Add Custom Reward Section -->
                <div class="add-reward-form-container">
                    <h3 class="form-subtitle">Create Custom Reward</h3>
                    <form class="add-reward-form" id="addRewardForm">
                        <div class="reward-form-row">
                            <div class="form-group reward-form-group">
                                <label for="rewardEmoji">Emoji</label>
                                <input type="text" id="rewardEmoji" maxlength="2" placeholder="üéÅ" class="reward-emoji-input" required>
                            </div>
                            <div class="form-group reward-form-group">
                                <label for="rewardName">Reward Name</label>
                                <input type="text" id="rewardName" placeholder="e.g., Ice Cream" class="reward-input" required>
                            </div>
                            <div class="form-group reward-form-group">
                                <label for="rewardCost">Point Cost</label>
                                <input type="number" id="rewardCost" min="10" max="500" placeholder="100" class="reward-input" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="rewardDesc">Description</label>
                            <input type="text" id="rewardDesc" placeholder="What's this reward about?" class="reward-input">
                        </div>
                    <button type="submit" class="add-reward-btn">Add Reward</button>
                    </form>
                </div>

                <div class="rewards-grid" id="rewardsGrid">
                    <!-- Rewards will be populated here -->
                </div>

                <div class="your-rewards-section">
                    <h3 class="section-title">Your Redeemed Rewards</h3>
                    <div class="your-rewards-list" id="yourRewardsList"></div>
                </div>
            </section>
        </div>

        <!-- LEADERBOARD TAB -->
        <div id="leaderboard" class="tab-content">
            <section class="leaderboard-section">
                <h2 class="section-title">Weekly Leaderboard</h2>
                <div class="leaderboard-container">
                    <div class="leaderboard-list" id="leaderboardList"></div>
                    <div class="leaderboard-empty" id="leaderboardEmpty">
                        <p>Complete some chores to see the leaderboard!</p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>